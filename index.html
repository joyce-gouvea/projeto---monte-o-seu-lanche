<!DOCTYPE html>

<html lang="pt-br">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="author" content="joyce gouvêa">
        <meta name="description" content="página de treino de código">
        <meta name="keywords" content="página de treino, montando o lanche">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Montando o Lanche</title>

        <!-- VUE -->
        <script src="/vue.js"></script>

        <!-- BOOTSTRAP -->
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <!-- JavaScript Bundle with Popper -->  <!-- não vai ser necessário para esse projeto, mas deixou pois permite acesso a recursos mais avançados -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

    </head>

    <body>

        <nav class="navbar bg-light">
            <div class="container">

                <span class="navbar-brand mb-0 h1">
                    Monte o seu lanche!
                </span>

            </div>
        </nav>

        <div class="container">

            <div id="app">

                <div class="row">
                    <div class="col-md-6">

                        <div class="row mt-2">

                            <div class="col">
                                <img :src="pao[0]">
                                <img :src="alface">
                                <img :src="ketchup">
                                <img :src="mostarda">
                                <img :src="maionese">
                                <img :src="hamburguer">
                                <img :src="pao[1]">
                            </div>

                        </div>
                    </div> 

                    <div class="col-md-6" v-if="etapa == 1">
                        <!-- tipo de pao -->
                        <div class="row mt-2">

                            <div class="col">

                                <div class="card">
                                    <div class="card-header">
                                      {{ textoTipoDePao }}
                                    </div>
        
                                    <div class="card-body">

                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" value="gergelim" v-model="inputTipoPao">

                                            <label class="form-check-label">
                                              {{ textoGergelim }}
                                            </label>
                                        </div>

                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" value="australiano" v-model="inputTipoPao">

                                            <label class="form-check-label">
                                              {{ textoAustraliano }}
                                            </label>
                                        </div>

                                    </div>
                                </div>

                            </div>

                        </div>

                        <!-- saladas -->
                        <div class="row mt-2">

                            <div class="col">

                                <div class="card">
                                    <div class="card-header">
                                      {{ textoSaladas }}
                                    </div>
        
                                    <div class="card-body">

                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" value="alface" v-model="inputSaladas">

                                            <label class="form-check-label">
                                                {{ textoAlface }}
                                            </label>
                                        </div>

                                    </div>
                                </div>

                            </div>

                        </div>

                        <!-- molhos -->
                        <div class="row mt-2">

                            <div class="col">

                                <div class="card">
                                    <div class="card-header">
                                      {{ textoMolhos }}
                                    </div>
        
                                    <div class="card-body">

                                        <div class="form-check form-check-inline"> 
                                            <input class="form-check-input" type="checkbox" value="ketchup" v-model="inputMolhos">

                                            <label class="form-check-label">
                                                {{ textoKetchup }}
                                            </label>
                                        
                                        </div>

                                        <div class="form-check form-check-inline"> 
                                            <input class="form-check-input" type="checkbox" value="mostarda" v-model="inputMolhos">

                                            <label class="form-check-label">
                                                {{ textoMostarda }}
                                            </label>
                                        
                                        </div>

                                        <div class="form-check form-check-inline"> 
                                            <input class="form-check-input" type="checkbox" value="maionese" v-model="inputMolhos">

                                            <label class="form-check-label">
                                                {{ textoMaionese }}
                                            </label>
                                        
                                        </div>

                                    </div>

                                </div>

                            </div>

                        </div>

                        <!-- tipo hamburguer -->
                        <div class="row mt-2">

                            <div class="col">

                                <div class="card">

                                    <div class="card-header">
                                      {{ textoTipoDeHamburguer }}
                                    </div>
        
                                    <div class="card-body">

                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" value="bovino" v-model="inputHamburguer">

                                            <label class="form-check-label">
                                              {{ textoBovino }}
                                            </label>
                                        </div>

                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" value="frango" v-model="inputHamburguer">

                                            <label class="form-check-label">
                                              {{ textoFrango }}
                                            </label>
                                        </div>

                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio" value="soja" v-model="inputHamburguer">

                                            <label class="form-check-label">
                                              {{ textoSoja }}
                                            </label>
                                        </div>

                                    </div>

                                </div>

                            </div>

                        </div>

                        <div class="row mt-2">

                            <div class="col d-flex justify-content-end">
                                <button type="button" class="btn btn-primary" @click="fazerPedido()">
                                    {{ textoFazerPedido }}
                                </button>
                            </div>
                        
                        </div>

                    </div>

                    <div class="col-md-6" v-if="etapa == 2">

                        <div class="row mt-2">

                            <div class="col">

                                <div class="card">

                                    <div class="card-header">
                                        {{ textoDadosCliente }}
                                    </div>
        
                                    <div class="card-body">

                                        <div class="mb-3">
                                            <label class="form-label">{{ textoNome }}</label>

                                            <input type="text" class="form-control" v-model="inputNome">
                                        </div>

                                        <div class="mb-3">
                                            <label class="form-label">{{ textoEndereco }}</label>

                                            <input type="text" class="form-control" v-model="inputEndereco">
                                        </div>

                                    </div>

                                </div>

                            </div>

                        </div>

                        <div class="row mt-2">

                            <div class="col d-flex justify-content-between">
                                
                                <button type="button" class="btn btn-warning" @click="etapa = etapa - 1">{{ textoBotaoVoltarTela }}</button>

                                <button type="button" class="btn btn-success" @click="confirmarPedido()">{{ textoBotaoConfirmarPedido }}</button>
                            </div>

                        </div>

                    </div>

                    <div class="col-md-6" v-if="etapa == 3">

                        <div class="row mt-2">

                            <div class="col">

                                <div class="card">

                                    <div class="card-header">
                                        {{ textoPedidoCofirmado }}
                                    </div>
        
                                    <div class="card-body">
                                        <p>{{ textoTempoLanche }}</p>
                                        <p>{{ textoPedidoPronto }}</p>
                                    </div>

                                </div>

                            </div>

                        </div>

                        <div class="row mt-2">

                            <div class="col d-flex justify-content-between">
                                
                                <button type="button" class="btn btn-primary" @click="etapa = 1">
                                    {{ textoBotaoRepetirPedido }}
                                </button>

                                <button type="button" class="btn btn-success" @click="novoPedido()">
                                    {{ textoBotaoNovoPedido }}
                                </button>
                            </div>

                        </div>

                    </div>

                </div>

            </div>

        </div>
            

        <script>

            const vm = new Vue({
                el: '#app',
                data: {
                    textoTipoDePao: 'TIPO DE PÃO',
                    textoGergelim: 'Gergelim',
                    textoAustraliano: 'Australiano',
                    textoSaladas: 'SALADAS',
                    textoAlface: 'Alface',
                    textoMolhos: 'MOLHOS',
                    textoKetchup: 'Ketchup',
                    textoMostarda: 'Mostarda',
                    textoMaionese: 'Maionese',
                    textoTipoDeHamburguer: 'TIPO DE HAMBÚRGUER',
                    textoBovino: 'Bovino',
                    textoFrango: 'Frango',
                    textoSoja: 'Soja',
                    textoFazerPedido: 'Fazer pedido',
                    textoDadosCliente: 'INFORME SEUS DADOS',
                    textoNome: 'Nome',
                    textoEndereco: 'Endereço',
                    textoBotaoVoltarTela: 'Voltar para o lanche',
                    textoBotaoConfirmarPedido: 'Confirmar',
                    textoPedidoConfirmado: 'PEDIDO CONFIRMADO',
                    textoTempoLanche: 'Agora é só aguardar 10 minutinhos!',
                    textoPedidoPronto: 'Vamos chamar você em breve ;)',
                    textoBotaoRepetirPedido: 'Repetir pedido',
                    textoBotaoNovoPedido: 'Novo pedido',
                    inputTipoPao: '',
                    inputSaladas: [],
                    inputMolhos: [],
                    inputHamburguer: '',
                    etapa: 1,
                    inputNome: '',
                    inputEndereco: '',
                    novoPedidoAssincrono: null
                },
                methods: {
                    fazerPedido(){
                        if(this.inputTipoPao && this.inputHamburguer){
                            this.etapa = 2;
                        }else{
                            alert('Você precisa selecionar no mínimo um pão e um hambúrguer.');
                        }
                    },

                    confirmarPedido(){
                        
                        if(this.inputNome && this.inputEndereco){
                            this.etapa = 3;

                            this.novoPedidoAssincrono = setTimeout(() => this.novoPedido(), 7000);
                        }else{
                            alert('Você precisa informar o seu nome e endereço.');
                        }
                    },

                    novoPedido(){
                        this.etapa = 1,
                        this.inputTipoPao = '',
                        this.inputSaladas = [],
                        this.inputMolhos = [],
                        this.inputHamburguer = '',
                        this.inputNome = '',
                        this.inputEndereco = ''
                    }
                },
                computed: {
                    pao(){
                        switch(this.inputTipoPao){
                            case 'gergelim': 
                                return ['imagens/pao_gergelim_superior.png', 'imagens/pao_gergelim_inferior.png']
                            case 'australiano':
                                return ['imagens/pao_australiano_superior.png', 'imagens/pao_australiano_inferior.png']
                            default:
                                return ['imagens/padrao/pao_superior.png', 'imagens/padrao/pao_inferior.png']
                        }
                        
                    },

                    alface(){
                        if(this.inputSaladas.includes('alface')){
                            return 'imagens/alface.png';
                        }
                        return 'imagens/padrao/alface.png';
                    },

                    ketchup(){
                        if(this.inputMolhos.includes('ketchup')){
                            return 'imagens/ketchup.png';
                        }
                        return 'imagens/padrao/molho.png';
                    },

                    mostarda(){
                        if(this.inputMolhos.includes('mostarda')){
                            return 'imagens/mostarda.png';
                        }
                        return 'imagens/padrao/molho.png';
                    },

                    maionese(){
                        if(this.inputMolhos.includes('maionese')){
                            return 'imagens/maionese.png';
                        }
                        return 'imagens/padrao/molho.png';
                    },

                    hamburguer(){
                        switch(this.inputHamburguer){
                            case 'bovino': 
                                return ['imagens/bovino.png']
                            case 'frango':
                                return ['imagens/frango.png']
                            case 'soja':
                                return ['imagens/soja.png']
                            default:
                                return ['imagens/padrao/hamburguer.png']
                        }
                        
                    }
                },
                watch: {
                    etapa(novoValor){
                        if(novoValor == 1){
                            clearTimeout(this.novoPedidoAssincrono);
                        }
                    }
                }
            });

        </script>

    </body>

</html>